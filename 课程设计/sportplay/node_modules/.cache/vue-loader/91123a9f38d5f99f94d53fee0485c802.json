{"remainingRequest":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\src\\components\\admin\\Types.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\src\\components\\admin\\Types.vue","mtime":1592565799819},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIHR5cGVzOiBbXSwNCiAgICAgICAgaW5wdXRWaXNpYmxlOiBmYWxzZSwNCiAgICAgICAgaW5wdXRWYWx1ZTogew0KICAgICAgICAgICAgdHlwZU5hbWU6ICcnDQogICAgICAgIH0NCiAgICAgIH07DQogICAgfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgIHRoaXMuZ2V0VHlwZXMoKTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIGFzeW5jIGhhbmRsZUNsb3NlKHRhZ0lkKSB7DQogICAgICAgIGNvbnN0IGNvbmZpcm1SZXN1bHQgPSBhd2FpdCB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XllYblk4EsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6Jywgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgfSkuY2F0Y2goZXJyID0+IGVycikNCiAgICAgICAgLy8g5oiQ5Yqf5Yig6Zmk5Li6Y29uZmlybSDlj5bmtojkuLogY2FuY2VsDQogICAgICAgIGlmKGNvbmZpcm1SZXN1bHQhPSdjb25maXJtJyl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5pbmZvKCLlt7Llj5bmtojliKDpmaQiKTsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCB7ZGF0YTpyZXN9ID0gYXdhaXQgdGhpcy4kaHR0cC5kZWxldGUoImdvb2RUeXBlLyIrdGFnSWQpOw0KICAgICAgICBpZiAocmVzICE9ICJzdWNjZXNzIikgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaTjeS9nOWksei0pe+8ge+8ge+8gSIpOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5Yqf77yB77yB77yBIik7DQogICAgICAgIHRoaXMuZ2V0VHlwZXMoKTsNCiAgICAgIH0sDQoNCiAgICAgIHNob3dJbnB1dCgpIHsNCiAgICAgICAgdGhpcy5pbnB1dFZpc2libGUgPSB0cnVlOw0KICAgICAgICB0aGlzLiRuZXh0VGljayhfID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzLnNhdmVUYWdJbnB1dC4kcmVmcy5pbnB1dC5mb2N1cygpOw0KICAgICAgICB9KTsNCiAgICAgIH0sDQoNCiAgICAgIGFzeW5jIGhhbmRsZUlucHV0Q29uZmlybSgpIHsNCiAgICAgICAgY29uc3Qge2RhdGE6cmVzfSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgiZ29vZFR5cGUiLCB0aGlzLmlucHV0VmFsdWUpOw0KICAgICAgICB0aGlzLmlucHV0VmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICB0aGlzLmlucHV0VmFsdWUudHlwZU5hbWUgPSAnJzsNCiAgICAgICAgdGhpcy5nZXRUeXBlcygpOw0KICAgICAgfSwNCiAgICAgIGFzeW5jIGdldFR5cGVzKCl7DQogICAgICAgIGNvbnN0IHtkYXRhOiByZXN9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJ2dvb2RUeXBlJywgew0KICAgICAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgICAgICAgcXVlcnk6ICIiLA0KICAgICAgICAgICAgICAgIHBhZ2VOdW06IDEsDQogICAgICAgICAgICAgICAgcGFnZVNpemU6IDEwMDANCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7ICAgIA0KICAgICAgICBpZighcmVzIHx8ICFyZXMuZGF0YSkgcmV0dXJuOw0KICAgICAgICB0aGlzLnR5cGVzID0gcmVzLmRhdGE7IC8vIOWwhui/lOWbnuaVsOaNrui1i+WAvA0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnR5cGVzKQ0KICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["Types.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Types.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>分类管理</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图区 -->\r\n    <el-card> \r\n      <el-row :gutter=\"25\">\r\n        <el-tag\r\n        :key=\"tag.id\"\r\n        v-for=\"tag in types\"\r\n        closable\r\n        :disable-transitions=\"false\"\r\n        @close=\"handleClose(tag.id)\"\r\n        effect=\"light\">\r\n        {{tag.typeName}}\r\n        </el-tag>\r\n        <el-input\r\n        class=\"input-new-tag\"\r\n        v-if=\"inputVisible\"\r\n        v-model=\"inputValue.typeName\"\r\n        ref=\"saveTagInput\"\r\n        size=\"medium\"\r\n        @keyup.enter.native=\"handleInputConfirm\"\r\n        @blur=\"handleInputConfirm\"\r\n        >\r\n        </el-input>\r\n        <el-button v-else class=\"button-new-tag\" size=\"medium\" @click=\"showInput\">+ 添加分类</el-button>\r\n      </el-row>\r\n    </el-card>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n      return {\r\n        types: [],\r\n        inputVisible: false,\r\n        inputValue: {\r\n            typeName: ''\r\n        }\r\n      };\r\n    },\r\n    created(){\r\n        this.getTypes();\r\n    },\r\n    methods: {\r\n      async handleClose(tagId) {\r\n        const confirmResult = await this.$confirm('此操作将永久删除该商品, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).catch(err => err)\r\n        // 成功删除为confirm 取消为 cancel\r\n        if(confirmResult!='confirm'){\r\n            return this.$message.info(\"已取消删除\");\r\n        }\r\n        const {data:res} = await this.$http.delete(\"goodType/\"+tagId);\r\n        if (res != \"success\") {\r\n            return this.$message.error(\"操作失败！！！\");\r\n        }\r\n        this.$message.success(\"操作成功！！！\");\r\n        this.getTypes();\r\n      },\r\n\r\n      showInput() {\r\n        this.inputVisible = true;\r\n        this.$nextTick(_ => {\r\n          this.$refs.saveTagInput.$refs.input.focus();\r\n        });\r\n      },\r\n\r\n      async handleInputConfirm() {\r\n        const {data:res} = await this.$http.post(\"goodType\", this.inputValue);\r\n        this.inputVisible = false;\r\n        this.inputValue.typeName = '';\r\n        this.getTypes();\r\n      },\r\n      async getTypes(){\r\n        const {data: res} = await this.$http.get('goodType', {\r\n            params: {\r\n                query: \"\",\r\n                pageNum: 1,\r\n                pageSize: 1000\r\n            }\r\n        });    \r\n        if(!res || !res.data) return;\r\n        this.types = res.data; // 将返回数据赋值\r\n        console.log(this.types)\r\n      }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.container{\r\n    height: 100%;\r\n}\r\n.el-card{\r\n    margin-top: 20px;\r\n    height: 60%;\r\n    padding: 5% 8%;\r\n}\r\n.el-tag + .el-tag {\r\n    margin-left: 20px;\r\n}\r\n.button-new-tag {\r\n    margin-left: 20px;\r\n    height: 32px;\r\n    line-height: 30px;\r\n    padding-top: 0;\r\n    padding-bottom: 0;\r\n}\r\n.input-new-tag {\r\n    width: 90px;\r\n    margin-left: 20px;\r\n    vertical-align: bottom;\r\n}\r\n</style>"]}]}