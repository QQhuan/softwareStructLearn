{"remainingRequest":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\语言和框架学习\\sportPlay\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\语言和框架学习\\sportPlay\\src\\components\\admin\\kalories.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\语言和框架学习\\sportPlay\\src\\components\\admin\\kalories.vue","mtime":1592572365742},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\语言和框架学习\\sportPlay\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\语言和框架学习\\sportPlay\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\语言和框架学习\\sportPlay\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\语言和框架学习\\sportPlay\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRmlsZVNhdmVyIGZyb20gJ2ZpbGUtc2F2ZXInDQppbXBvcnQgWExTWCBmcm9tICd4bHN4Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDor7fmsYLmlbDmja4NCiAgICAgIHF1ZXJ5SW5mbzogew0KICAgICAgICBxdWVyeTogIiIsDQogICAgICAgIHBhZ2VOdW06IDEsDQogICAgICAgIHBhZ2VTaXplOiA1DQogICAgICB9LA0KICAgICAga2Fsb3JpZXNMaXN0OiBbXSwvLyDllYblk4HliJfooagNCiAgICAgIHRvdGFsOiAwLCAvLyDmnIDlpKfmlbDmja7orrDlvZUNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0S2Fsb3JpZXMoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGdldEthbG9yaWVzKCkgew0KICAgICAgLy8g6LCD55SoZ2V06K+35rGCDQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoImthbG9yeSIsIHsNCiAgICAgICAgcGFyYW1zOiB0aGlzLnF1ZXJ5SW5mbw0KICAgICAgfSk7DQogICAgICB0aGlzLmthbG9yaWVzTGlzdCA9IHJlcy5kYXRhOyAvLyDlsIbov5Tlm57mlbDmja7otYvlgLwNCiAgICAgIHRoaXMudG90YWwgPSByZXMubnVtYmVyczsgLy8g5oC75Liq5pWwDQoJfSwNCiAgICAvLyDnm5HlkKxwYWdlU2l6ZeaUueWPmOeahOS6i+S7tg0KICAgIGhhbmRsZVNpemVDaGFuZ2UobmV3U2l6ZSkgew0KICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZVNpemUgPSBuZXdTaXplOw0KICAgICAgdGhpcy5nZXRLYWxvcmllcygpOyAvLyDmlbDmja7lj5HnlJ/mlLnlj5jph43mlrDnlLPor7fmlbDmja4NCiAgICB9LA0KICAgIC8vIOebkeWQrHBhZ2VOdW3mlLnlj5jnmoTkuovku7YNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKG5ld1BhZ2UpIHsNCiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VOdW0gPSBuZXdQYWdlOw0KICAgICAgdGhpcy5nZXRLYWxvcmllcygpOyAvLyDmlbDmja7lj5HnlJ/mlLnlj5jph43mlrDnlLPor7fmlbDmja4NCiAgICB9LA0KICAgIGV4cG9ydEV4Y2VsICgpIHsNCiAgICAgIC8v5oyH5a6a5oOz6KaB5a+85Ye66KGo5qC855qEaWQNCiAgICAgIHZhciB3YiA9IFhMU1gudXRpbHMudGFibGVfdG9fYm9vayhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcja2Fsb3JpZXNUYWJsZScpKQ0KICAgICAgLy/mlbDmja7lhpnlhaUNCiAgICAgIHZhciB3Ym91dCA9IFhMU1gud3JpdGUod2IsIHsgYm9va1R5cGU6ICd4bHN4JywgYm9va1NTVDogdHJ1ZSwgdHlwZTogJ2FycmF5JyB9KQ0KICAgICAgdHJ5IHsNCiAgICAgICAgLy/ooajmoLznmoTlj4LmlbANCiAgICAgICAgRmlsZVNhdmVyLnNhdmVBcyhuZXcgQmxvYihbd2JvdXRdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nIH0pLCAnZ29vZHMueGxzeCcpDQogICAgICB9IGNhdGNoIChlKSB7IA0KICAgICAgICBpZih0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIA0KICAgICAgICAgIGNvbnNvbGUubG9nKGUsIHdib3V0KSANCiAgICAgIH0NCiAgICAgIHJldHVybiB3Ym91dDsNCiAgICAgfSwNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["kalories.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"kalories.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>个人运动</el-breadcrumb-item>\r\n      <el-breadcrumb-item>卡路里</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图区 -->\r\n    <el-card>\r\n      <el-row :gutter=\"25\">\r\n          <el-button type=\"success\" @click=\"exportExcel\" style=\"margin-left:12px;\">导出信息</el-button>\r\n      </el-row>\r\n      <!-- 用户列表 -->\r\n      <el-table :data=\"kaloriesList\" border stripe id=\"kaloriesTable\">\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column label=\"用户名\" prop=\"username\"></el-table-column>\r\n        <el-table-column label=\"打卡天数\" prop=\"days\">\r\n            <template slot-scope=\"scope\">\r\n                <el-tag disable-transitions>{{scope.row.days+'天'}}</el-tag>\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"燃烧/天\">\r\n            <template slot-scope=\"scope\">\r\n                <span>{{(scope.row.kalories/scope.row.days).toFixed(0)}}</span>\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"总消耗卡路里\" prop=\"kalories\"></el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.pageNum\"\r\n        :page-sizes=\"[1, 2, 5, 100]\"\r\n        :page-size=\"queryInfo.pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      ></el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport FileSaver from 'file-saver'\r\nimport XLSX from 'xlsx'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 请求数据\r\n      queryInfo: {\r\n        query: \"\",\r\n        pageNum: 1,\r\n        pageSize: 5\r\n      },\r\n      kaloriesList: [],// 商品列表\r\n      total: 0, // 最大数据记录\r\n    };\r\n  },\r\n  created() {\r\n    this.getKalories();\r\n  },\r\n  methods: {\r\n    async getKalories() {\r\n      // 调用get请求\r\n      const { data: res } = await this.$http.get(\"kalory\", {\r\n        params: this.queryInfo\r\n      });\r\n      this.kaloriesList = res.data; // 将返回数据赋值\r\n      this.total = res.numbers; // 总个数\r\n\t},\r\n    // 监听pageSize改变的事件\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pageSize = newSize;\r\n      this.getKalories(); // 数据发生改变重新申请数据\r\n    },\r\n    // 监听pageNum改变的事件\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pageNum = newPage;\r\n      this.getKalories(); // 数据发生改变重新申请数据\r\n    },\r\n    exportExcel () {\r\n      //指定想要导出表格的id\r\n      var wb = XLSX.utils.table_to_book(document.querySelector('#kaloriesTable'))\r\n      //数据写入\r\n      var wbout = XLSX.write(wb, { bookType: 'xlsx', bookSST: true, type: 'array' })\r\n      try {\r\n        //表格的参数\r\n        FileSaver.saveAs(new Blob([wbout], { type: 'application/octet-stream' }), 'goods.xlsx')\r\n      } catch (e) { \r\n        if(typeof console !== 'undefined') \r\n          console.log(e, wbout) \r\n      }\r\n      return wbout;\r\n     },\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.el-card{\r\n    margin-top: 10px;\r\n}\r\n.el-table{\r\n    margin-top: 10px;\r\n}\r\n</style>"]}]}