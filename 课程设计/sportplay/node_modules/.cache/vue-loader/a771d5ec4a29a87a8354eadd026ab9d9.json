{"remainingRequest":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\src\\components\\admin\\kalories.vue?vue&type=style&index=0&id=5a6a1bce&lang=less&scoped=true&","dependencies":[{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\src\\components\\admin\\kalories.vue","mtime":1592572365742},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2020春\\软件体系架构\\3117004993-邱焕-体系架构\\课程设计\\sportplay\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmVsLWNhcmR7DQogICAgbWFyZ2luLXRvcDogMTBweDsNCn0NCi5lbC10YWJsZXsNCiAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KfQ0K"},{"version":3,"sources":["kalories.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA","file":"kalories.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>个人运动</el-breadcrumb-item>\r\n      <el-breadcrumb-item>卡路里</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图区 -->\r\n    <el-card>\r\n      <el-row :gutter=\"25\">\r\n          <el-button type=\"success\" @click=\"exportExcel\" style=\"margin-left:12px;\">导出信息</el-button>\r\n      </el-row>\r\n      <!-- 用户列表 -->\r\n      <el-table :data=\"kaloriesList\" border stripe id=\"kaloriesTable\">\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column label=\"用户名\" prop=\"username\"></el-table-column>\r\n        <el-table-column label=\"打卡天数\" prop=\"days\">\r\n            <template slot-scope=\"scope\">\r\n                <el-tag disable-transitions>{{scope.row.days+'天'}}</el-tag>\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"燃烧/天\">\r\n            <template slot-scope=\"scope\">\r\n                <span>{{(scope.row.kalories/scope.row.days).toFixed(0)}}</span>\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"总消耗卡路里\" prop=\"kalories\"></el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.pageNum\"\r\n        :page-sizes=\"[1, 2, 5, 100]\"\r\n        :page-size=\"queryInfo.pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      ></el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport FileSaver from 'file-saver'\r\nimport XLSX from 'xlsx'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 请求数据\r\n      queryInfo: {\r\n        query: \"\",\r\n        pageNum: 1,\r\n        pageSize: 5\r\n      },\r\n      kaloriesList: [],// 商品列表\r\n      total: 0, // 最大数据记录\r\n    };\r\n  },\r\n  created() {\r\n    this.getKalories();\r\n  },\r\n  methods: {\r\n    async getKalories() {\r\n      // 调用get请求\r\n      const { data: res } = await this.$http.get(\"kalory\", {\r\n        params: this.queryInfo\r\n      });\r\n      this.kaloriesList = res.data; // 将返回数据赋值\r\n      this.total = res.numbers; // 总个数\r\n\t},\r\n    // 监听pageSize改变的事件\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pageSize = newSize;\r\n      this.getKalories(); // 数据发生改变重新申请数据\r\n    },\r\n    // 监听pageNum改变的事件\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pageNum = newPage;\r\n      this.getKalories(); // 数据发生改变重新申请数据\r\n    },\r\n    exportExcel () {\r\n      //指定想要导出表格的id\r\n      var wb = XLSX.utils.table_to_book(document.querySelector('#kaloriesTable'))\r\n      //数据写入\r\n      var wbout = XLSX.write(wb, { bookType: 'xlsx', bookSST: true, type: 'array' })\r\n      try {\r\n        //表格的参数\r\n        FileSaver.saveAs(new Blob([wbout], { type: 'application/octet-stream' }), 'goods.xlsx')\r\n      } catch (e) { \r\n        if(typeof console !== 'undefined') \r\n          console.log(e, wbout) \r\n      }\r\n      return wbout;\r\n     },\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.el-card{\r\n    margin-top: 10px;\r\n}\r\n.el-table{\r\n    margin-top: 10px;\r\n}\r\n</style>"]}]}